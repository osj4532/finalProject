<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.reply">
	<insert id="insertOriginReply" parameterType="replyVo">
		<selectKey order="BEFORE" keyProperty="repNo" resultType="int">
			select reply_seq.nextval from dual
		</selectKey>
		insert into reply(rep_no,rep_content,rep_regdate,rep_group,
			rep_sortno,rep_depth,rep_secret,
				mem_no,board_no)
			values(#{repNo},#{repContent},sysdate,#{repNo},1,1,
			#{repSecret},#{memNo},#{boardNo})
	</insert>
	
	<select id="selectReplyByNo" parameterType="int" resultType="replyVo">
		select * from reply
		where board_no=#{boardNo} 
		order by rep_group desc,rep_sortno
	</select>
</mapper>









